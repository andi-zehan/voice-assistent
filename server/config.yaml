server:
  host: "0.0.0.0"
  port: 8765

stt:
  model_size: "base"        # tiny, base, small, medium, large-v3
  device: "cpu"             # cpu or cuda
  compute_type: "int8"      # float16, int8, etc.
  no_speech_threshold: 0.85
  logprob_threshold: -1.5

llm:
  model: "openai/gpt-5-chat"
  api_base: "https://openrouter.ai/api/v1"
  max_tokens: 512
  temperature: 0.7
  web_search: true
  warmup_enabled: true
  timeout_s: 30
  max_retries: 2
  retry_base_delay_s: 0.25

tts:
  engine: "piper"
  model_dir: "models/piper"
  default_language: "en"
  speed: 1.0                     # Kokoro-only; ignored by Piper
  sentence_silence: 0.2
  voices:
    en:
      piper_voice: "en_US-amy-medium"
    de:
      piper_voice: "de_DE-thorsten-medium"
  # Piper tuning params (used only when engine=piper or for DE fallback)
  length_scale: 1.1
  noise_scale: 0.85
  noise_w_scale: 0.95
  output_sample_rate: 22050

conversation:
  max_turns: 10
  max_tokens_budget: 8000
  follow_up_window_s: 7.0

metrics:
  enabled: true
  file: "metrics.jsonl"
  flush_interval: 10
  log_transcripts: true
  log_llm_text: true

protocol:
  audio_mismatch_reject_ratio: 0.2
