audio:
  sample_rate: 16000
  channels: 1
  dtype: int16
  blocksize: 1280          # 80ms frames — matches openWakeWord input
  ring_buffer_seconds: 30  # 30s circular buffer

wake:
  model_name: "hey_jarvis"  # Pre-trained openWakeWord model
  threshold: 0.5            # Detection confidence threshold (0.0–1.0)

vad:
  aggressiveness: 2         # 0–3, higher = less sensitive to noise
  frame_duration_ms: 20     # Must be 10, 20, or 30
  silence_timeout_ms: 700   # Silence duration to declare end-of-utterance
  speech_onset_frames: 3    # Consecutive speech frames to confirm speech start
  barge_in_enabled: false    # Disable until AEC or headphones are enforced
  barge_in_frames: 8        # Consecutive speech frames to trigger barge-in
  barge_in_grace_s: 1.0     # Seconds to ignore mic after playback starts (avoids echo)

stt:
  model_size: "base"        # tiny, base, small, medium, large-v3
  device: "cpu"             # cpu or cuda
  compute_type: "int8"      # float16, int8, etc.
  language: "en"             # Fixed to English

llm:
  model: "google/gemini-3-flash-preview"
  api_base: "https://openrouter.ai/api/v1"
  max_tokens: 512
  temperature: 0.7
  web_search: true          # Enable OpenRouter web search plugin
  warmup_enabled: true      # Fire-and-forget warmup on wake detection
  timeout_s: 30

tts:
  voice: "Samantha"         # macOS say voice
  rate: 190                 # Words per minute
  output_sample_rate: 22050 # Sample rate of say output

conversation:
  max_turns: 10             # Max history turns kept
  max_tokens_budget: 2000   # Rough token budget for context trimming
  follow_up_window_s: 4.0   # Seconds to wait for follow-up before returning to PASSIVE

metrics:
  enabled: true
  file: "metrics.jsonl"
  flush_interval: 10        # Flush after N events

earcon:
  frequency: 880            # Hz — A5 note
  duration_s: 0.15          # Short chime
  volume: 0.3               # 0.0–1.0
